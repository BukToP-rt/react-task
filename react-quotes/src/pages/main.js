import React from "react";
import { useEffect, useState } from "react";
import { useNavigate } from "react-router-dom";
import instance from "../api/helpers/axios.ts";


function MainPage() {
    const navigate = useNavigate();
    const [isLoading, setLoading] = useState(false);
    const [quotes, setQuotes] = useState([]);
    useEffect(() => {
      setLoading(true);
      instance.get("/quotes/random?limit=8").then((data) => {
        setQuotes(data.data);
        console.log(data.data);
        setLoading(false);
      });
    }, []);
    if (isLoading) {
      return <h1 >Loading...</h1>;
    } 
    return (
    <div className="section">
      
      <div className="container-main">
        <div className="posts">
          {quotes.map((post) => {
            return (
              <div className="post">
                <a href="/">{post.content}</a>
                <div className="author">
                  <a href="/">{post.author}</a>
                </div>
                <div className="interation">
                  <div className="interation-position">
                    <span
                      className="like"
                      onClick={() => {
                        if (window.localStorage.getItem(post._id)) {
                          window.localStorage.removeItem(post._id);
                        } else {
                          window.localStorage.setItem(post._id, {
                            text: post.content,
                            author: post.author,
                          });
                        }
                      }}
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="20px"
                        height="20px"
                        version="1.0"
                        viewBox="150 150 900 800"
                      >
                        <path d="M643.3 194c-8.3 2.2-10 3-16.5 7.7-5.7 4.1-10.9 11.1-13.7 18.1-4.1 10.2-4.6 21.5-2.6 58.7 2.5 47.7 1.8 53-9.7 74.5-30.6 57.1-70.4 119.9-86.6 136.4-10.4 10.6-14.2 11.4-48.7 9.8-12.2-.5-21.4-.5-23.6.1-2.1.5-5.2 2.4-7 4.3-3.2 3.3-3.3 3.8-4.2 14.6-.9 10.2-.8 12 1.2 19.1 1.6 5.9 2.1 10.5 2.1 20 0 6.7.5 22.8 1 35.7 4.4 105.2 4.3 98.1 1.9 139.5-2.6 44.6-3.1 95.6-1.1 102.3.7 2.4 3 6 5 8 4.3 4.3 9.4 6.4 45.7 19.2 36.6 12.9 57.7 20.7 67.8 25.1 17 7.3 41.9 10.8 100.2 13.9 60.4 3.1 179.9 3.8 200.5 1 4.1-.5 14.5-1.7 23-2.5 34-3.4 52.2-10.7 64.1-25.7 7.9-10 10.9-19.5 10.9-34.9 0-16.6-4.5-30.7-13.3-41.8l-3.5-4.4 8.7-4.3c14.3-7 23.7-17.6 29.7-33.4 2.5-6.9 2.8-8.7 2.8-21.5.1-15.9-.9-19.7-7.6-29.9-2.1-3.2-3.7-6-3.6-6.1 16.4-9.9 24.4-20.2 28.9-37.2 3-11.1 3-31.5 0-42.8-2.6-9.8-7.8-20.6-12.6-26.2l-3.6-4.3 3.9-4.7c9.6-11.6 13.2-24.1 13.9-49.4.5-14.7.3-18.5-1.2-23.5-2.8-9.6-7.2-16.9-14.9-24.2-16.7-15.9-45.4-24.6-84.6-25.9-16.6-.5-101.5 1-129.7 2.4l-13.3.6v-4.4c0-6.4 5.1-30.1 11.9-55.9 9.1-34.5 9.5-37.2 9.6-62 0-23.5-1.1-33.9-5.5-52-6.8-27.8-17.1-47.8-33.2-64.5-12.2-12.8-22.3-19-41.8-25.7-17.5-5.9-37-7.4-50.7-3.8zm36.7 32.7c4.7 1.3 12.2 4.2 16.8 6.4C725 246.9 743 287.7 743.2 338c0 19.5-1 26.2-8.3 53.9-11.2 42.8-14.3 59.9-13.6 75.3.6 14.6 5.5 23.3 14.3 25.7 3.3.9 23.1.6 113.4-1.9 39.2-1.1 57.6-.4 74 2.5 23.5 4.3 39.2 13.1 42.1 23.7 1.5 5.5.6 23.9-1.6 33.6-1.9 8.4-5.2 12.5-11.1 14.1-2.1.5-11 1.7-19.7 2.6-8.8.8-17.3 2.2-19.1 2.9-3.7 1.5-8.3 6.7-9.2 10.2-1 3.8.2 10.4 2.4 13.3 4 5.5 7.3 6.4 21.6 6.5 12.8.1 13.3.2 19.8 3.4 7.5 3.7 11.5 8.2 15 17.2 1.8 4.5 2.2 7.6 2.2 17 .1 13.7-1.3 19.3-6.1 25-7.6 8.8-15.5 11-43.5 11.8-19.9.6-21.9.9-24.5 2.8-9 6.7-8.7 19.8.6 26.1 1.9 1.3 5.5 2.4 8.9 2.8 21.8 2.3 32.6 5.5 39.7 11.7 5.3 4.7 7 9.1 6.2 16.7-2.4 22.6-14.9 30-56.1 33-16.1 1.2-19.9 2.7-23.3 8.7-2.8 4.8-2.9 10.3-.4 15.3 2.7 5.3 5.5 6.7 18.9 10.2 13.6 3.6 20.2 6.5 25.8 11.3 5.3 4.5 9.2 13.1 10 22.2 1.9 20.9-10.4 29.3-47.7 32.4-7.4.7-15.4 1.6-17.9 2.2-2.6.6-29.6 1.2-64 1.5-73.7.6-131.8-1.1-178.5-5.3-29-2.6-35.1-3.8-53.5-11.2-9.1-3.6-33.8-12.7-55-20.2l-38.5-13.7-.6-4.4c-.8-5.3.5-44.4 2.6-80.9 2-34.4 2-52.4-.5-110-1.1-26.1-2-55-2-64.1 0-14.7-.8-23.4-2.6-29.1-.5-1.7.9-1.8 19-1.8 21.8.1 27.9-.9 38-6.3 8.2-4.4 20.2-16 30.1-29.1 26.4-35.2 81.3-128.2 88.4-149.7 4.5-14 4.7-20.7 2.5-90.4-.6-21 .1-25.3 4.7-28.7 5.6-4.2 19.2-4.3 33.9-.1zM194.3 448.9c-7.5.7-10.9 3-14.1 9.2l-2.2 4.6 4.9 29.9c2.7 16.4 6.8 42.3 9.1 57.4 2.3 15.1 6.4 38.8 9.1 52.6 2.7 13.9 7.2 39.3 9.9 56.5 11.2 70.5 16.4 95.9 35.5 173.9 5.7 23.4 11.3 46.9 12.5 52.3 2.3 10.4 4.7 14.5 10.2 17.3 5.7 3 55.1 3.5 74.8.9 2.5-.4 9.3-1.7 15.2-3.1 5.9-1.3 13-2.4 15.8-2.4 6 0 11.9-2.7 14.5-6.7 1.8-2.7 1.9-6.6 1.7-87.8-.2-66.2.2-94.2 1.5-126.5 1.3-30.7 1.7-63.9 1.8-127.5v-86l-2.3-3.3c-4.6-6.4-2.3-6.2-67.4-6.6-48.7-.4-63.2-.8-80.8-2.5-25.2-2.3-41.1-3-49.7-2.2zm52.1 34.1c17.1 1.6 30.2 2 58.6 2 20.2 0 41.5.3 47.5.7l10.7.6-.5 85.1c-.4 46.8-1.1 93.2-1.7 103.1-.7 10.4-1.3 54.8-1.4 105.3-.2 70.2-.5 87.5-1.5 88.2-6.5 3.9-45.7 7.3-63.8 5.4l-6-.6-1.2-6.2c-.7-3.3-5.2-22.3-10.1-42.1-18.5-75-24.1-103-38-190.5-1.2-7.4-4.4-24.5-7-38-2.7-13.5-6.3-34-8-45.5-1.7-11.6-4.9-32-7-45.3-2.2-13.4-4-24.6-4-24.8 0-.3 2.6-.2 5.8.1 3.1.3 15.6 1.4 27.6 2.5z" />
                      </svg>
                    </span>
                    <div className="view-likes">
                      <a href="/">Избранное</a>
                    </div>
                  </div>
                </div>
              </div>
            );
          })}

          
          <div className="button-more">
            <a href="/" onClick={() => {}}>
              Показать ещё
            </a>
          </div>
        </div>
      </div>
    </div>
  );
};

export default MainPage;
